import assert from "assert"
import JSONbigInt from "json-bigint"
let JSONbigString = JSONbigInt({
  "storeAsString": true
});
describe('transformJson', function() {

  describe('bigDataTest', function() {
    it('json-bigint', function() {
      assert.equal("39247994205247955", JSONbigString.parse('{"total":750,"pre_page":0,"current_page":1,"last_page":75,"from":1,"to":10,"sortName":null,"sortord":null,"header":null,"data":[{"D_FINISHED_TIME":1471852588000,"I_AMOUNT":181,"CONTACT_RP_USER_ID":516734,"CONTACT_USER_ID":39247994205247955,"I_TYPE":6022,"I_RP_USER_ID":"526630","D_CREATED_AT":1471852588000,"I_USER_ID":"39247994205248209","I_STATUS":1,"CH_TYPE_NAME":"收群红包(拼手气)","CONTACT_BIND_ID":39247994213702145,"CH_DEALER_NAME":"超信","CONTACT_REAL_NAME":"陈丰苗","I_REF":"160822155628600965","CH_REAL_NAME":"余华英","CH_DEALER_CODE":"341887"},{"D_FINISHED_TIME":1471853245000,"I_AMOUNT":7,"CONTACT_RP_USER_ID":516734,"CONTACT_USER_ID":39247994205247955,"I_TYPE":6022,"I_RP_USER_ID":"526630","D_CREATED_AT":1471853245000,"I_USER_ID":"39247994205248209","I_STATUS":1,"CH_TYPE_NAME":"收群红包(拼手气)","CONTACT_BIND_ID":39247994213702145,"CH_DEALER_NAME":"超信","CONTACT_REAL_NAME":"陈丰苗","I_REF":"160822160725955458","CH_REAL_NAME":"余华英","CH_DEALER_CODE":"341887"},{"D_FINISHED_TIME":1471853880000,"I_AMOUNT":895,"CONTACT_RP_USER_ID":526785,"CONTACT_USER_ID":39247994205248132,"I_TYPE":6022,"I_RP_USER_ID":"526630","D_CREATED_AT":1471853880000,"I_USER_ID":"39247994205248209","I_STATUS":1,"CH_TYPE_NAME":"收群红包(拼手气)","CONTACT_BIND_ID":39247994213712743,"CH_DEALER_NAME":"超信","CONTACT_REAL_NAME":"王芳","I_REF":"160822161800544400","CH_REAL_NAME":"余华英","CH_DEALER_CODE":"341887"},{"D_FINISHED_TIME":1471853913000,"I_AMOUNT":534,"CONTACT_RP_USER_ID":516734,"CONTACT_USER_ID":39247994205247955,"I_TYPE":6022,"I_RP_USER_ID":"526630","D_CREATED_AT":1471853913000,"I_USER_ID":"39247994205248209","I_STATUS":1,"CH_TYPE_NAME":"收群红包(拼手气)","CONTACT_BIND_ID":39247994213702145,"CH_DEALER_NAME":"超信","CONTACT_REAL_NAME":"陈丰苗","I_REF":"160822161833711760","CH_REAL_NAME":"余华英","CH_DEALER_CODE":"341887"},{"D_FINISHED_TIME":1471853936000,"I_AMOUNT":271,"CONTACT_RP_USER_ID":526516,"CONTACT_USER_ID":39247994205248102,"I_TYPE":6022,"I_RP_USER_ID":"526630","D_CREATED_AT":1471853936000,"I_USER_ID":"39247994205248209","I_STATUS":1,"CH_TYPE_NAME":"收群红包(拼手气)","CONTACT_BIND_ID":39247994213712453,"CH_DEALER_NAME":"超信","CONTACT_REAL_NAME":"曾莉","I_REF":"160822161856764276","CH_REAL_NAME":"余华英","CH_DEALER_CODE":"341887"},{"CH_DEALER_NAME":"超信","D_FINISHED_TIME":1471853998000,"I_AMOUNT":2000,"I_REF":"160822161931688146","CH_REAL_NAME":"余华英","I_TYPE":42,"D_CREATED_AT":1471853971000,"I_RP_USER_ID":"526630","CH_TYPE_NAME":"支付宝充值","I_STATUS":1,"I_USER_ID":"39247994205248209","CH_DEALER_CODE":"341887"},{"CH_DEALER_NAME":"超信","D_FINISHED_TIME":1471854044000,"I_AMOUNT":2000,"I_REF":"160822162044275028","CH_REAL_NAME":"余华英","I_TYPE":6012,"D_CREATED_AT":1471854044000,"I_RP_USER_ID":"526630","CH_TYPE_NAME":"发群红包(拼手气)","I_STATUS":1,"I_USER_ID":"39247994205248209","CH_DEALER_CODE":"341887"},{"D_FINISHED_TIME":1471854056000,"I_AMOUNT":814,"CONTACT_RP_USER_ID":526630,"CONTACT_USER_ID":39247994205248209,"I_TYPE":6022,"I_RP_USER_ID":"526630","D_CREATED_AT":1471854055000,"I_USER_ID":"39247994205248209","I_STATUS":1,"CH_TYPE_NAME":"收群红包(拼手气)","CONTACT_BIND_ID":39247994213712583,"CH_DEALER_NAME":"超信","CONTACT_REAL_NAME":"余华英","I_REF":"160822162055165082","CH_REAL_NAME":"余华英","CH_DEALER_CODE":"341887"},{"D_FINISHED_TIME":1471854120000,"I_AMOUNT":280,"CONTACT_RP_USER_ID":526516,"CONTACT_USER_ID":39247994205248102,"I_TYPE":6022,"I_RP_USER_ID":"526630","D_CREATED_AT":1471854120000,"I_USER_ID":"39247994205248209","I_STATUS":1,"CH_TYPE_NAME":"收群红包(拼手气)","CONTACT_BIND_ID":39247994213712453,"CH_DEALER_NAME":"超信","CONTACT_REAL_NAME":"曾莉","I_REF":"160822162200433740","CH_REAL_NAME":"余华英","CH_DEALER_CODE":"341887"},{"CH_DEALER_NAME":"超信","D_FINISHED_TIME":1471854150000,"I_AMOUNT":2000,"I_REF":"160822162230420094","CH_REAL_NAME":"余华英","I_TYPE":6012,"D_CREATED_AT":1471854150000,"I_RP_USER_ID":"526630","CH_TYPE_NAME":"发群红包(拼手气)","I_STATUS":1,"I_USER_ID":"39247994205248209","CH_DEALER_CODE":"341887"}]}').data[0].CONTACT_USER_ID);
    });
  });

  describe('normalDataTest', function() {
    it('test1', function() {
      assert.equal("123456789012345678", JSONbigString.parse('123456789012345678'));
    });
    it('test2', function() {
      assert.equal("123456789012345678", JSONbigString.parse('"123456789012345678"'));
    });
    it('test3', function() {
      assert.equal("2132132132132132131", JSONbigString.parse('[2132132132132132131]'));
    });
    it('test4', function() {
      assert.equal("2132132132132132131", JSONbigString.parse('{"a":2132132132132132131}').a);
    });
    it('test5', function() {
      assert.equal(123456, JSONbigString.parse('123456'));
    });
    it('test6', function() {
      assert.equal("123456", JSONbigString.parse('"123456"'));
    });
    it('test7', function() {
      assert.equal(123456, JSONbigString.parse('{"a":123456}').a);
    });
    it('test8', function() {
      assert.equal(123456, JSONbigString.parse('[123456]')[0]);
    });
    it('test9', function() {
      assert.equal("'123456789012345678", JSONbigString.parse('"\'123456789012345678"'));
    });
    it('test10', function() {
      assert.equal("'123456789012345678'", JSONbigString.parse('"\'123456789012345678\'"'));
    });
    it('test11', function() {
      assert.equal("123456789012345678'", JSONbigString.parse('"123456789012345678\'"'));
    });
    it('test12', function() {
      assert.equal("2132132132132132188", JSONbigString.parse('{"a":2132132132132132131,"b":2132132132132132188}').b);
    });
    it('test13', function() {
      assert.equal(888999, JSONbigString.parse('[123456,888999]')[1]);
    });
    it('test14', function() {
      assert.equal("2132132132132132188", JSONbigString.parse('{"a":2132132132132132131,"b":"2132132132132132188"}').b);
    });
    it('test15', function() {
      assert.equal("2132132132132132188'", JSONbigString.parse('{"a":2132132132132132131,"b":"2132132132132132188\'"}').b);
    });
    it('test16', function() {
      assert.equal("2132132132132132131'", JSONbigString.parse('["2132132132132132131\'"]')[0]);
    });
    it('test17', function() {
      assert.equal("2132132132132132131", JSONbigString.parse('{"a":[2132132132132132131,2132132132132132131]}').a[0]);
    });
  });

});